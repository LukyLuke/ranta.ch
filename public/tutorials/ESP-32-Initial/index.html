<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    ESP-32/ESP-WROOM-32 verkabeln und programmieren // RANTA - Coding, Hacking, Teaching and more
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.18.1" />

  <meta property="og:title" content="ESP-32/ESP-WROOM-32 verkabeln und programmieren" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="//ranta.ch/tutorials/ESP-32-Initial/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="//ranta.ch//css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="RANTA - Coding, Hacking, Teaching and more" />

    
  <link rel="stylesheet" href="/css/styles/color-brewer.css">
  <script src="/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  
    <link rel="stylesheet" type="text/css" href="/css/ranta-changes.css">
  

  
</head>

<body>
	

	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

	
	  <img src="/page/ranta.jpg" class="sidebarphoto">
	

    <h1 class="brand-title">Ranta</h1>
    <h2 class="brand-tagline">Coding, Hacking, Teaching, Robotics, Security and more</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="//ranta.ch/">Home</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/posts">Articles</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/projects">Projects</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/tutorials">Tutorials</a></li>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="http://www.github.com/LukyLuke" target="_blank"><i class='fa fa-github'></i></a>
        
      
        
        <a href="http://www.twitter.com/ranta_plan" target="_blank"><i class='fa fa-twitter'></i></a>
        
      
      
    </div>
    

  </div>
</div>

	
	

    <div class="content pure-u-1 pure-u-md-3-4">
		<a name="top"></a>
		

		
			
		    <div id="toc" class="pure-u-1 pure-u-md-1-4">
				<small class="toc-label">Contents</small>
		   	 	<nav id="TableOfContents">
<ul>
<li><a href="#vorbereitung">Vorbereitung</a></li>
<li><a href="#benötigte-libraries-für-arduino">Benötigte Libraries für Arduino</a>
<ul>
<li><a href="#stack-trace">Stack-Trace</a></li>
</ul></li>
<li><a href="#programm-hochladen">Programm hochladen</a>
<ul>
<li><a href="#einfaches-programm">Einfaches Programm</a></li>
</ul></li>
<li><a href="#demos-und-mehr">Demos und mehr</a></li>
</ul>
</nav>
		    </div>
		    
	    
  		<section class="post">
            <h1 class="post-title">
              <a href="/tutorials/ESP-32-Initial/">ESP-32/ESP-WROOM-32 verkabeln und programmieren</a>
            </h1>
            <h3 class="post-subtitle">
            	
            </h3>
            
            	<span class="post-date">
                	<span class="post-date-day"><sup>17</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Aug</span> <span class="post-date-year">2017</span>
            	</span>
            	
            
            	
            

			
			
				<div class="post-categories">
				
					<a class="post-category post-category-development" href="//ranta.ch//categories/development">Development</a>
				
					<a class="post-category post-category-tutorial" href="//ranta.ch//categories/tutorial">Tutorial</a>
				
					<a class="post-category post-category-esp-32" href="//ranta.ch//categories/esp-32">ESP-32</a>
				
				</div>
			

			

			

            

<p>Die ESP-32 Mikrokontroller Familie sind ein optimales Produkt für IoT Sachen. Hergestellt werden sie von Espressif Systems und sind ein sogenanntes Low-Power System on a Chip (SoC) mit integriertem WiFi und dual-mode Bluetooth funktionalität. Mehr dazu auf der Webseite <a href="http://esp32.net/">esp32.net</a> und den Produkseiten von <a href="http://espressif.com/en/products/hardware">Espressif</a>.</p>

<p>Günstige Bezugsquellen findet man bei EBai, Amazon und natürlich Ali-Express.</p>

<h1 id="vorbereitung">Vorbereitung</h1>

<p>Man braucht:
* Einen ESP-WROOM-32 oder ESP-32
* Einen USB-to-Serial Adapter
* Eine 3.3V Quelle (wird meistens bei den USB2Serial Adaptern angeboten)</p>

<p>Die einfachste Verkabelung ist, wenn man die +3.3V vom USB2Serial-Adapter mit dem 3V3 und dem EN Pin auf dem ESP-Chip verbindet, sowie den Ground (GND) mit dem Ground GND.
Weiter muss man den TX vom USB2Serial-Adapter mit dem RX auf dem Chip und den RX vom Adapter mit dem TX vom Chip verbinden.
Um eine Firmware auf den Chip zu laden muss man den IO0-Port vom Chip an den Ground (GND) hängen. Der einfachheit halber kann man hier einen Schalter/Taster oder auch einfach ein trennbares Kabel verwenden.</p>

<p>So ist der ESP-32 bereits einsatzbereit:</p>

<pre><code>+------------+      +---------------+
| USB2Serial |      |   ESP-x-32    |
|            |      |           3V3 |---+-- +3.3V
|         Tx +------+ Rx         EN |--/
|   GND   Rx +------+ Tx   GND  IO0 |
+----+-------+      +-------+----+--+
     |                      |    |
     +----------------------+----+
                                \ Nur beim Upload
</code></pre>

<p><strong>Achtung:</strong> Auf keinen Fall mit +5.0V speisen, die ESP-32 Familie verträgt nur +1.8 - 3.8 Volt!</p>

<h1 id="benötigte-libraries-für-arduino">Benötigte Libraries für Arduino</h1>

<p>Um anständig mit dem ESP-32 zu arbeiten empfiehlt es sich mit dem <a href="https://github.com/espressif/arduino-esp32">Arduino-ESP32 Core</a> zu arbeiten. Die Installation ist gut erklärt und spielt sich so ab:</p>

<ul>
<li>Installation der <a href="https://arduino.cc">Arduino IDE</a>, bei Slackware auch über SlackBuilds installierbar</li>
<li>PySerial installieren, bei Slackware ist das bei <a href="https://slackbuilds.org/repository/14.2/python/pyserial/">SlackBuilds</a> verfügbar
** Es kann auch mittels <code>pip install pyserial</code> installiert werden</li>
<li>Neue Hardware installieren: <code>mkdir -p ~/Arduino/hardware/espressif</code></li>
<li>Das Git-Projekt klonen: <code>git clone https://github.com/espressif/arduino-esp32.git ~/Arduino/hardware/espressif/esp32</code></li>
<li>Abhängigkeiten installieren: <code>cd ~/Arduino/hardware/espressif/esp32/tools &amp;&amp; python get.py</code></li>
</ul>

<h2 id="stack-trace">Stack-Trace</h2>

<p>Optional kann (empfohlen) der <a href="https://github.com/me-no-dev/EspExceptionDecoder">ESP ExceptionDecoder</a> installiert werden um einen lesbaren Stacktrace zu erhalten beim debuggen.</p>

<h1 id="programm-hochladen">Programm hochladen</h1>

<p>Nach einem Neustart der Adruino IDE sind nun die benötigten Hardware Einträge vorhanden. Für einen ESP-WROOM-32 werden folgende Einstellungen benötigt:
* <strong>Board:</strong> FireBeetle-ESP-32
* <strong>Flash Frequency:</strong> 80MHz
* <strong>Upload Speed:</strong> 921600
* <strong>Port:</strong> /dev/ttyUSB0 oder /dev/ttyUSB1 - das kann sich ändern wenn man den Chip resettet</p>

<p><a href="/images/tutorials/arduino_esp32/arduino_config.png" title="Arduino-IDE Konfiguration"><img src="/images/tutorials/arduino_esp32/arduino_config.png" alt="Arduino-IDE Konfiguration" /></a></p>

<p>Um nun das Programm hoch zu laden, muss der <code>IO0</code> Pin auf LOW gesetzt werden, also mit dem Ground (GND) verbunden werden. Anschliessend Power-Off und Power-On um den Chip zu resetten. Wichtig ist, dass wenn man einen Taster verwendet um <code>IO0</code> auf low zu halten, dieser muss die ganze Zeit gedrückt werden.</p>

<p>Wenn der Chip resettet hat, muss nochmals der Port geprüft werden - dieser kann sich bei diesem Vorgang ändern (Warum auch immer das resetten eine Auswirkung auf meinen USB-to-Serial Adapter hat weiss ich nicht).</p>

<p>Um das Programm hoch zu laden kann man nun einfach die in der IDE zur verwendung gestellte Funktion verwenden (Icons oben links zum kompilieren und hochladen).
Nach dem Hochladen sollte der Port <code>IO0</code> wieder vom Ground getrennt werden und der Chip erneut resettet durch Power Off und Power On.</p>

<h2 id="einfaches-programm">Einfaches Programm</h2>

<p>Eines der einfachsten Programme kann so aussehen:</p>

<pre><code>void setup() {
  Serial.begin(115200);
}
 
void loop() {
  Serial.println(&quot;Hello from ESP-WROOM-32&quot;);
  delay(500);
}
</code></pre>

<p>Nach dem hochladen kann dann wie gewohnt über den Serial-Monitor in der Arduino-IDE die Meldung angeschaut werden.</p>

<h1 id="demos-und-mehr">Demos und mehr</h1>

<p>Espressif hat im <a href="https://github.com/espressif/esp-idf">ESP-IDF Github Repository</a> Demos und Beispiele. Diese sind zwar für die esp-idf ausgelegt, zeigen aber wie Bluetooth und WiFi genutzt werden kann.</p>

	
			

			
				<div class="tags-list">
					<span class="dark-red">Tags</span><span class="decorative-marker">//</span>
					
	                <a class="post-tag post-tag-development" href="//ranta.ch//tags/development">Development</a>,
	                
	                <a class="post-tag post-tag-esp-32" href="//ranta.ch//tags/esp-32">esp-32</a>,
	                
	                <a class="post-tag post-tag-esp-wroom-32" href="//ranta.ch//tags/esp-wroom-32">esp-wroom-32</a>,
	                
	                <a class="post-tag post-tag-arduino" href="//ranta.ch//tags/arduino">arduino</a>,
	                
				</div>
			

			
				<div class="paging">
					<span class="paging-label">More Reading</span>
					

					
					<div class="paging-older">
						<span class="dark-red">Older</span><span class="decorative-marker">//</span>
			            <a class="paging-link" href="/projects/xibo_digital_signage_graph_module/">Graph module for Xibo</a>
		            </div>
		            
	            </div>
            
          </section>
          
          	
          
        
      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>&copy; 2017. All rights reserved.</p>
</div>
    </div>
  </div>
	

	

  
</body>
</html>
